doc:
  short_help: "Ensures 'asdf' is installed."
  help: |
    Installs the [asdf](https://github.com/asdf-vm/asdf) versions/package manager.

    Optionally, you can also install plugins at the same time.
  further_reading:
    - "[asdf github page](https://github.com/asdf-vm/asdf)"
    - "[cimon-io.asdf Ansible role](https://github.com/cimon-io/ansible-role-asdf)"

args:
  plugins:
    doc:
      short_help: "A list of plugins and details about them."
    required: false
    default: []
    type: list
    schema:
      type: dict
      schema:
        name:
          type: string
          required: true
          empty: false
        versions:
          type: list
          schema:
            type: string
          required: false
        global:
          type: string
          required: false
          empty: false
    cli:
      enabled: false
  user:
    doc:
      short_help: "The name of the user (optional)."
    type: string
    required: false
    default: "{{ ansible_env.USER }}"

meta:
  tags:
    - featured-frecklecutable
    - conda
    - package-manager
    - package-management
    - install

frecklets:
  - frecklet:
      command: cimon-io.asdf
      type: ansible-role
      __msg__: "installing asdf"
      include-type: import
      become: true
    vars:
      asdf_plugins: "{{:: plugins ::}}"
      asdf_user: "{{:: user ::}}"
